require 'archivesspace/client'
require 'active_support/all'
require 'nokogiri'
require 'json'
require_relative '../../helper_methods.rb'

aspace_login

queries = [
'collection_uri_u_sstr:"/repositories/5/resources/2485"',
'collection_uri_u_sstr:"/repositories/5/resources/3507"',
'collection_uri_u_sstr:"/repositories/5/resources/3108"',
'collection_uri_u_sstr:"/repositories/5/resources/2766"',
'collection_uri_u_sstr:"/repositories/5/resources/2845"',
'collection_uri_u_sstr:"/repositories/5/resources/2298"',
'collection_uri_u_sstr:"/repositories/5/resources/3330"',
'collection_uri_u_sstr:"/repositories/5/resources/3165"',
'collection_uri_u_sstr:"/repositories/5/resources/3625"',
'collection_uri_u_sstr:"/repositories/5/resources/3376"',
'collection_uri_u_sstr:"/repositories/5/resources/3220"',
'collection_uri_u_sstr:"/repositories/5/resources/3464"',
'collection_uri_u_sstr:"/repositories/5/resources/2443"',
'collection_uri_u_sstr:"/repositories/5/resources/2894"',
'collection_uri_u_sstr:"/repositories/5/resources/3681"',
'collection_uri_u_sstr:"/repositories/5/resources/3518"',
'collection_uri_u_sstr:"/repositories/5/resources/3358"',
'collection_uri_u_sstr:"/repositories/5/resources/2889"',
'collection_uri_u_sstr:"/repositories/5/resources/3049"',
'collection_uri_u_sstr:"/repositories/5/resources/3494"',
'collection_uri_u_sstr:"/repositories/5/resources/3018"',
'collection_uri_u_sstr:"/repositories/5/resources/3323"',
'collection_uri_u_sstr:"/repositories/5/resources/2709"',
'collection_uri_u_sstr:"/repositories/5/resources/3287"',
'collection_uri_u_sstr:"/repositories/5/resources/2736"',
'collection_uri_u_sstr:"/repositories/5/resources/2262"',
'collection_uri_u_sstr:"/repositories/5/resources/2446"',
'collection_uri_u_sstr:"/repositories/5/resources/3514"',
'collection_uri_u_sstr:"/repositories/5/resources/3164"',
'collection_uri_u_sstr:"/repositories/5/resources/3529"',
'collection_uri_u_sstr:"/repositories/5/resources/2914"',
'collection_uri_u_sstr:"/repositories/5/resources/3137"',
'collection_uri_u_sstr:"/repositories/5/resources/2752"',
'collection_uri_u_sstr:"/repositories/5/resources/2277"',
'collection_uri_u_sstr:"/repositories/5/resources/2455"',
'collection_uri_u_sstr:"/repositories/5/resources/3422"',
'collection_uri_u_sstr:"/repositories/5/resources/3002"',
'collection_uri_u_sstr:"/repositories/5/resources/2300"',
'collection_uri_u_sstr:"/repositories/5/resources/3304"',
'collection_uri_u_sstr:"/repositories/5/resources/3572"',
'collection_uri_u_sstr:"/repositories/5/resources/3406"',
'collection_uri_u_sstr:"/repositories/5/resources/3440"',
'collection_uri_u_sstr:"/repositories/5/resources/3048"',
'collection_uri_u_sstr:"/repositories/5/resources/2484"',
'collection_uri_u_sstr:"/repositories/5/resources/3335"',
'collection_uri_u_sstr:"/repositories/5/resources/2328"',
'collection_uri_u_sstr:"/repositories/5/resources/2296"',
'collection_uri_u_sstr:"/repositories/5/resources/2251"',
'collection_uri_u_sstr:"/repositories/5/resources/2936"',
'collection_uri_u_sstr:"/repositories/5/resources/3787"',
'collection_uri_u_sstr:"/repositories/5/resources/3303"',
'collection_uri_u_sstr:"/repositories/5/resources/3855"',
'collection_uri_u_sstr:"/repositories/5/resources/3416"',
'collection_uri_u_sstr:"/repositories/5/resources/2529"',
'collection_uri_u_sstr:"/repositories/5/resources/2492"',
'collection_uri_u_sstr:"/repositories/5/resources/2693"',
'collection_uri_u_sstr:"/repositories/5/resources/3716"',
'collection_uri_u_sstr:"/repositories/5/resources/3431"',
'collection_uri_u_sstr:"/repositories/5/resources/2991"',
'collection_uri_u_sstr:"/repositories/5/resources/2978"',
'collection_uri_u_sstr:"/repositories/5/resources/3702"',
'collection_uri_u_sstr:"/repositories/5/resources/3583"',
'collection_uri_u_sstr:"/repositories/5/resources/3400"',
'collection_uri_u_sstr:"/repositories/5/resources/3520"',
'collection_uri_u_sstr:"/repositories/5/resources/3181"',
'collection_uri_u_sstr:"/repositories/5/resources/2302"',
'collection_uri_u_sstr:"/repositories/5/resources/2345"',
'collection_uri_u_sstr:"/repositories/5/resources/3629"',
'collection_uri_u_sstr:"/repositories/5/resources/3161"',
'collection_uri_u_sstr:"/repositories/5/resources/3472"',
'collection_uri_u_sstr:"/repositories/5/resources/2363"',
'collection_uri_u_sstr:"/repositories/5/resources/3155"',
'collection_uri_u_sstr:"/repositories/5/resources/2734"',
'collection_uri_u_sstr:"/repositories/5/resources/3041"',
'collection_uri_u_sstr:"/repositories/5/resources/3397"',
'collection_uri_u_sstr:"/repositories/5/resources/2788"',
'collection_uri_u_sstr:"/repositories/5/resources/2774"',
'collection_uri_u_sstr:"/repositories/5/resources/2835"',
'collection_uri_u_sstr:"/repositories/5/resources/3324"',
'collection_uri_u_sstr:"/repositories/5/resources/3565"',
'collection_uri_u_sstr:"/repositories/5/resources/2799"',
'collection_uri_u_sstr:"/repositories/5/resources/2315"',
'collection_uri_u_sstr:"/repositories/5/resources/2854"',
'collection_uri_u_sstr:"/repositories/5/resources/3298"',
'collection_uri_u_sstr:"/repositories/5/resources/3317"',
'collection_uri_u_sstr:"/repositories/5/resources/3582"',
'collection_uri_u_sstr:"/repositories/5/resources/2922"',
'collection_uri_u_sstr:"/repositories/5/resources/3737"',
'collection_uri_u_sstr:"/repositories/5/resources/2948"',
'collection_uri_u_sstr:"/repositories/5/resources/3461"',
'collection_uri_u_sstr:"/repositories/5/resources/3511"',
'collection_uri_u_sstr:"/repositories/5/resources/3271"',
'collection_uri_u_sstr:"/repositories/5/resources/3542"',
'collection_uri_u_sstr:"/repositories/5/resources/3047"',
'collection_uri_u_sstr:"/repositories/5/resources/3432"',
'collection_uri_u_sstr:"/repositories/5/resources/2450"',
'collection_uri_u_sstr:"/repositories/5/resources/2278"',
'collection_uri_u_sstr:"/repositories/5/resources/2744"',
'collection_uri_u_sstr:"/repositories/5/resources/2831"',
'collection_uri_u_sstr:"/repositories/5/resources/2425"',
'collection_uri_u_sstr:"/repositories/5/resources/3780"',
'collection_uri_u_sstr:"/repositories/5/resources/2953"',
'collection_uri_u_sstr:"/repositories/5/resources/3158"',
'collection_uri_u_sstr:"/repositories/5/resources/3325"',
'collection_uri_u_sstr:"/repositories/5/resources/3174"',
'collection_uri_u_sstr:"/repositories/5/resources/3438"',
'collection_uri_u_sstr:"/repositories/5/resources/2477"',
'collection_uri_u_sstr:"/repositories/5/resources/2716"',
'collection_uri_u_sstr:"/repositories/5/resources/3270"',
'collection_uri_u_sstr:"/repositories/5/resources/3080"',
'collection_uri_u_sstr:"/repositories/5/resources/2867"',
'collection_uri_u_sstr:"/repositories/5/resources/3369"',
'collection_uri_u_sstr:"/repositories/5/resources/3573"',
'collection_uri_u_sstr:"/repositories/5/resources/3508"',
'collection_uri_u_sstr:"/repositories/5/resources/3237"',
'collection_uri_u_sstr:"/repositories/5/resources/3159"',
'collection_uri_u_sstr:"/repositories/5/resources/2796"',
'collection_uri_u_sstr:"/repositories/5/resources/3447"',
'collection_uri_u_sstr:"/repositories/5/resources/2397"',
'collection_uri_u_sstr:"/repositories/5/resources/3043"',
'collection_uri_u_sstr:"/repositories/5/resources/2290"',
'collection_uri_u_sstr:"/repositories/5/resources/3021"',
'collection_uri_u_sstr:"/repositories/5/resources/3069"',
'collection_uri_u_sstr:"/repositories/5/resources/3580"',
'collection_uri_u_sstr:"/repositories/5/resources/2374"',
'collection_uri_u_sstr:"/repositories/5/resources/2532"',
'collection_uri_u_sstr:"/repositories/5/resources/2509"',
'collection_uri_u_sstr:"/repositories/5/resources/2813"',
'collection_uri_u_sstr:"/repositories/5/resources/2431"',
'collection_uri_u_sstr:"/repositories/5/resources/2314"',
'collection_uri_u_sstr:"/repositories/5/resources/2787"',
'collection_uri_u_sstr:"/repositories/5/resources/2514"',
'collection_uri_u_sstr:"/repositories/5/resources/3145"',
'collection_uri_u_sstr:"/repositories/5/resources/2435"',
'collection_uri_u_sstr:"/repositories/5/resources/2259"',
'collection_uri_u_sstr:"/repositories/5/resources/3598"',
'collection_uri_u_sstr:"/repositories/5/resources/3990"',
'collection_uri_u_sstr:"/repositories/5/resources/2507"',
'collection_uri_u_sstr:"/repositories/5/resources/2861"',
'collection_uri_u_sstr:"/repositories/5/resources/3537"',
'collection_uri_u_sstr:"/repositories/5/resources/2987"',
'collection_uri_u_sstr:"/repositories/5/resources/2840"',
'collection_uri_u_sstr:"/repositories/5/resources/2857"',
'collection_uri_u_sstr:"/repositories/5/resources/3527"',
'collection_uri_u_sstr:"/repositories/5/resources/3279"',
'collection_uri_u_sstr:"/repositories/5/resources/3377"',
'collection_uri_u_sstr:"/repositories/5/resources/3782"',
'collection_uri_u_sstr:"/repositories/5/resources/3619"',
'collection_uri_u_sstr:"/repositories/5/resources/3136"',
'collection_uri_u_sstr:"/repositories/5/resources/3424"',
'collection_uri_u_sstr:"/repositories/5/resources/2850"',
'collection_uri_u_sstr:"/repositories/5/resources/3285"',
'collection_uri_u_sstr:"/repositories/5/resources/3316"',
'collection_uri_u_sstr:"/repositories/5/resources/3489"',
'collection_uri_u_sstr:"/repositories/5/resources/3046"',
'collection_uri_u_sstr:"/repositories/5/resources/2462"',
'collection_uri_u_sstr:"/repositories/5/resources/3796"',
'collection_uri_u_sstr:"/repositories/5/resources/2449"',
'collection_uri_u_sstr:"/repositories/5/resources/2429"',
'collection_uri_u_sstr:"/repositories/5/resources/3070"',
'collection_uri_u_sstr:"/repositories/5/resources/2988"',
'collection_uri_u_sstr:"/repositories/5/resources/2760"',
'collection_uri_u_sstr:"/repositories/5/resources/2496"',
'collection_uri_u_sstr:"/repositories/5/resources/2286"',
'collection_uri_u_sstr:"/repositories/5/resources/2351"',
'collection_uri_u_sstr:"/repositories/5/resources/2841"',
'collection_uri_u_sstr:"/repositories/5/resources/2436"',
'collection_uri_u_sstr:"/repositories/5/resources/2255"',
'collection_uri_u_sstr:"/repositories/5/resources/3526"',
'collection_uri_u_sstr:"/repositories/5/resources/3245"',
'collection_uri_u_sstr:"/repositories/5/resources/2437"',
'collection_uri_u_sstr:"/repositories/5/resources/2281"',
'collection_uri_u_sstr:"/repositories/5/resources/2519"',
'collection_uri_u_sstr:"/repositories/5/resources/3638"',
'collection_uri_u_sstr:"/repositories/5/resources/2355"',
'collection_uri_u_sstr:"/repositories/5/resources/2929"',
'collection_uri_u_sstr:"/repositories/5/resources/2703"',
'collection_uri_u_sstr:"/repositories/5/resources/2527"',
'collection_uri_u_sstr:"/repositories/5/resources/3540"',
'collection_uri_u_sstr:"/repositories/5/resources/3387"',
'collection_uri_u_sstr:"/repositories/5/resources/3517"',
'collection_uri_u_sstr:"/repositories/5/resources/2815"',
'collection_uri_u_sstr:"/repositories/5/resources/2476"',
'collection_uri_u_sstr:"/repositories/5/resources/2939"',
'collection_uri_u_sstr:"/repositories/5/resources/3394"',
'collection_uri_u_sstr:"/repositories/5/resources/3214"',
'collection_uri_u_sstr:"/repositories/5/resources/2268"',
'collection_uri_u_sstr:"/repositories/5/resources/2912"',
'collection_uri_u_sstr:"/repositories/5/resources/2461"',
'collection_uri_u_sstr:"/repositories/5/resources/2753"',
'collection_uri_u_sstr:"/repositories/5/resources/2246"',
'collection_uri_u_sstr:"/repositories/5/resources/2839"',
'collection_uri_u_sstr:"/repositories/5/resources/3610"',
'collection_uri_u_sstr:"/repositories/5/resources/2424"',
'collection_uri_u_sstr:"/repositories/5/resources/2757"',
'collection_uri_u_sstr:"/repositories/5/resources/3455"',
'collection_uri_u_sstr:"/repositories/5/resources/3259"',
'collection_uri_u_sstr:"/repositories/5/resources/2330"',
'collection_uri_u_sstr:"/repositories/5/resources/2346"',
'collection_uri_u_sstr:"/repositories/5/resources/3168"',
'collection_uri_u_sstr:"/repositories/5/resources/2941"',
'collection_uri_u_sstr:"/repositories/5/resources/2364"',
'collection_uri_u_sstr:"/repositories/5/resources/2275"',
'collection_uri_u_sstr:"/repositories/5/resources/2352"',
'collection_uri_u_sstr:"/repositories/5/resources/2371"',
'collection_uri_u_sstr:"/repositories/5/resources/2895"',
'collection_uri_u_sstr:"/repositories/5/resources/2348"',
'collection_uri_u_sstr:"/repositories/5/resources/2826"',
'collection_uri_u_sstr:"/repositories/5/resources/2767"',
'collection_uri_u_sstr:"/repositories/5/resources/2848"',
'collection_uri_u_sstr:"/repositories/5/resources/2892"',
'collection_uri_u_sstr:"/repositories/5/resources/2871"',
'collection_uri_u_sstr:"/repositories/5/resources/2336"',
'collection_uri_u_sstr:"/repositories/5/resources/3146"',
'collection_uri_u_sstr:"/repositories/5/resources/3058"',
'collection_uri_u_sstr:"/repositories/5/resources/2293"',
'collection_uri_u_sstr:"/repositories/5/resources/2444"',
'collection_uri_u_sstr:"/repositories/5/resources/3211"',
'collection_uri_u_sstr:"/repositories/5/resources/2265"',
'collection_uri_u_sstr:"/repositories/5/resources/2784"',
'collection_uri_u_sstr:"/repositories/5/resources/2287"',
'collection_uri_u_sstr:"/repositories/5/resources/2366"',
'collection_uri_u_sstr:"/repositories/5/resources/2856"',
'collection_uri_u_sstr:"/repositories/5/resources/2721"',
'collection_uri_u_sstr:"/repositories/5/resources/2811"',
'collection_uri_u_sstr:"/repositories/5/resources/2792"',
'collection_uri_u_sstr:"/repositories/5/resources/2501"',
'collection_uri_u_sstr:"/repositories/5/resources/2416"',
'collection_uri_u_sstr:"/repositories/5/resources/2870"',
'collection_uri_u_sstr:"/repositories/5/resources/2479"',
'collection_uri_u_sstr:"/repositories/5/resources/2385"',
'collection_uri_u_sstr:"/repositories/5/resources/2391"',
'collection_uri_u_sstr:"/repositories/5/resources/2917"',
'collection_uri_u_sstr:"/repositories/5/resources/2299"',
'collection_uri_u_sstr:"/repositories/5/resources/3133"',
'collection_uri_u_sstr:"/repositories/5/resources/3111"',
'collection_uri_u_sstr:"/repositories/5/resources/2383"',
'collection_uri_u_sstr:"/repositories/5/resources/2771"',
'collection_uri_u_sstr:"/repositories/5/resources/2409"',
'collection_uri_u_sstr:"/repositories/5/resources/2334"',
'collection_uri_u_sstr:"/repositories/5/resources/2731"',
'collection_uri_u_sstr:"/repositories/5/resources/2949"',
'collection_uri_u_sstr:"/repositories/5/resources/3109"',
'collection_uri_u_sstr:"/repositories/5/resources/2489"',
'collection_uri_u_sstr:"/repositories/5/resources/3157"',
'collection_uri_u_sstr:"/repositories/5/resources/3032"',
'collection_uri_u_sstr:"/repositories/5/resources/2245"',
'collection_uri_u_sstr:"/repositories/5/resources/2742"',
'collection_uri_u_sstr:"/repositories/5/resources/3418"',
'collection_uri_u_sstr:"/repositories/5/resources/2370"',
'collection_uri_u_sstr:"/repositories/5/resources/2430"',
'collection_uri_u_sstr:"/repositories/5/resources/2417"',
'collection_uri_u_sstr:"/repositories/5/resources/2361"',
'collection_uri_u_sstr:"/repositories/5/resources/2701"',
'collection_uri_u_sstr:"/repositories/5/resources/2791"',
'collection_uri_u_sstr:"/repositories/5/resources/3090"',
'collection_uri_u_sstr:"/repositories/5/resources/2468"',
'collection_uri_u_sstr:"/repositories/5/resources/2493"',
'collection_uri_u_sstr:"/repositories/5/resources/3197"',
'collection_uri_u_sstr:"/repositories/5/resources/2347"',
'collection_uri_u_sstr:"/repositories/5/resources/3322"',
'collection_uri_u_sstr:"/repositories/5/resources/3729"',
'collection_uri_u_sstr:"/repositories/5/resources/2816"',
'collection_uri_u_sstr:"/repositories/5/resources/2503"',
'collection_uri_u_sstr:"/repositories/5/resources/3088"',
'collection_uri_u_sstr:"/repositories/5/resources/3023"',
'collection_uri_u_sstr:"/repositories/5/resources/3414"',
'collection_uri_u_sstr:"/repositories/5/resources/2414"',
'collection_uri_u_sstr:"/repositories/5/resources/3005"',
'collection_uri_u_sstr:"/repositories/5/resources/2743"',
'collection_uri_u_sstr:"/repositories/5/resources/3020"',
'collection_uri_u_sstr:"/repositories/5/resources/2777"',
'collection_uri_u_sstr:"/repositories/5/resources/2407"',
'collection_uri_u_sstr:"/repositories/5/resources/2801"',
'collection_uri_u_sstr:"/repositories/5/resources/2851"',
'collection_uri_u_sstr:"/repositories/5/resources/2789"',
'collection_uri_u_sstr:"/repositories/5/resources/2970"',
'collection_uri_u_sstr:"/repositories/5/resources/2963"',
'collection_uri_u_sstr:"/repositories/5/resources/2735"',
'collection_uri_u_sstr:"/repositories/5/resources/2323"',
'collection_uri_u_sstr:"/repositories/5/resources/2696"',
'collection_uri_u_sstr:"/repositories/5/resources/2487"',
'collection_uri_u_sstr:"/repositories/5/resources/2412"',
'collection_uri_u_sstr:"/repositories/5/resources/2502"',
'collection_uri_u_sstr:"/repositories/5/resources/2482"',
'collection_uri_u_sstr:"/repositories/5/resources/2919"',
'collection_uri_u_sstr:"/repositories/5/resources/2528"',
'collection_uri_u_sstr:"/repositories/5/resources/2389"',
'collection_uri_u_sstr:"/repositories/5/resources/3700"',
'collection_uri_u_sstr:"/repositories/5/resources/2490"',
'collection_uri_u_sstr:"/repositories/5/resources/2728"',
'collection_uri_u_sstr:"/repositories/5/resources/2838"',
'collection_uri_u_sstr:"/repositories/5/resources/2888"',
'collection_uri_u_sstr:"/repositories/5/resources/3240"',
'collection_uri_u_sstr:"/repositories/5/resources/2933"',
'collection_uri_u_sstr:"/repositories/5/resources/2423"',
'collection_uri_u_sstr:"/repositories/5/resources/3343"',
'collection_uri_u_sstr:"/repositories/5/resources/2420"',
'collection_uri_u_sstr:"/repositories/5/resources/2357"',
'collection_uri_u_sstr:"/repositories/5/resources/2524"',
'collection_uri_u_sstr:"/repositories/5/resources/2761"',
'collection_uri_u_sstr:"/repositories/5/resources/2400"',
'collection_uri_u_sstr:"/repositories/5/resources/2968"',
'collection_uri_u_sstr:"/repositories/5/resources/2720"',
'collection_uri_u_sstr:"/repositories/5/resources/2470"',
'collection_uri_u_sstr:"/repositories/5/resources/3162"',
'collection_uri_u_sstr:"/repositories/5/resources/2733"',
'collection_uri_u_sstr:"/repositories/5/resources/3445"',
'collection_uri_u_sstr:"/repositories/5/resources/2274"',
'collection_uri_u_sstr:"/repositories/5/resources/2387"',
'collection_uri_u_sstr:"/repositories/5/resources/2405"',
'collection_uri_u_sstr:"/repositories/5/resources/2883"',
'collection_uri_u_sstr:"/repositories/5/resources/2965"',
'collection_uri_u_sstr:"/repositories/5/resources/2908"',
'collection_uri_u_sstr:"/repositories/5/resources/2901"',
'collection_uri_u_sstr:"/repositories/5/resources/2765"',
'collection_uri_u_sstr:"/repositories/5/resources/2313"',
'collection_uri_u_sstr:"/repositories/5/resources/2952"',
'collection_uri_u_sstr:"/repositories/5/resources/2710"',
'collection_uri_u_sstr:"/repositories/5/resources/2695"',
'collection_uri_u_sstr:"/repositories/5/resources/2759"',
'collection_uri_u_sstr:"/repositories/5/resources/3027"',
'collection_uri_u_sstr:"/repositories/5/resources/2877"',
'collection_uri_u_sstr:"/repositories/5/resources/3004"',
'collection_uri_u_sstr:"/repositories/5/resources/3015"',
'collection_uri_u_sstr:"/repositories/5/resources/2699"',
'collection_uri_u_sstr:"/repositories/5/resources/2700"',
'collection_uri_u_sstr:"/repositories/5/resources/2746"',
'collection_uri_u_sstr:"/repositories/5/resources/2794"',
'collection_uri_u_sstr:"/repositories/5/resources/2523"',
'collection_uri_u_sstr:"/repositories/5/resources/2902"',
'collection_uri_u_sstr:"/repositories/5/resources/2705"',
'collection_uri_u_sstr:"/repositories/5/resources/2768"',
'collection_uri_u_sstr:"/repositories/5/resources/2488"',
'collection_uri_u_sstr:"/repositories/5/resources/2928"',
'collection_uri_u_sstr:"/repositories/5/resources/3127"',
'collection_uri_u_sstr:"/repositories/5/resources/2480"',
'collection_uri_u_sstr:"/repositories/5/resources/2859"',
'collection_uri_u_sstr:"/repositories/5/resources/3203"',
'collection_uri_u_sstr:"/repositories/5/resources/2354"',
'collection_uri_u_sstr:"/repositories/5/resources/2378"',
'collection_uri_u_sstr:"/repositories/5/resources/3089"',
'collection_uri_u_sstr:"/repositories/5/resources/2843"',
'collection_uri_u_sstr:"/repositories/5/resources/2307"',
'collection_uri_u_sstr:"/repositories/5/resources/2869"',
'collection_uri_u_sstr:"/repositories/5/resources/2944"',
'collection_uri_u_sstr:"/repositories/5/resources/2824"',
'collection_uri_u_sstr:"/repositories/5/resources/2433"',
'collection_uri_u_sstr:"/repositories/5/resources/2756"',
'collection_uri_u_sstr:"/repositories/5/resources/2727"',
'collection_uri_u_sstr:"/repositories/5/resources/2386"',
'collection_uri_u_sstr:"/repositories/5/resources/2837"',
'collection_uri_u_sstr:"/repositories/5/resources/2832"',
'collection_uri_u_sstr:"/repositories/5/resources/2780"',
'collection_uri_u_sstr:"/repositories/5/resources/2272"',
'collection_uri_u_sstr:"/repositories/5/resources/2516"',
'collection_uri_u_sstr:"/repositories/5/resources/2779"',
'collection_uri_u_sstr:"/repositories/5/resources/2253"',
'collection_uri_u_sstr:"/repositories/5/resources/2497"',
'collection_uri_u_sstr:"/repositories/5/resources/2510"',
'collection_uri_u_sstr:"/repositories/5/resources/2390"',
'collection_uri_u_sstr:"/repositories/5/resources/2382"',
'collection_uri_u_sstr:"/repositories/5/resources/2852"',
'collection_uri_u_sstr:"/repositories/5/resources/2782"',
'collection_uri_u_sstr:"/repositories/5/resources/3033"',
'collection_uri_u_sstr:"/repositories/5/resources/2402"',
'collection_uri_u_sstr:"/repositories/5/resources/2904"',
'collection_uri_u_sstr:"/repositories/5/resources/2297"',
'collection_uri_u_sstr:"/repositories/5/resources/2464"',
'collection_uri_u_sstr:"/repositories/5/resources/2706"',
'collection_uri_u_sstr:"/repositories/5/resources/2367"',
'collection_uri_u_sstr:"/repositories/5/resources/3346"',
'collection_uri_u_sstr:"/repositories/5/resources/3055"',
'collection_uri_u_sstr:"/repositories/5/resources/3026"',
'collection_uri_u_sstr:"/repositories/5/resources/3512"',
'collection_uri_u_sstr:"/repositories/5/resources/3029"',
'collection_uri_u_sstr:"/repositories/5/resources/2325"',
'collection_uri_u_sstr:"/repositories/5/resources/3201"',
'collection_uri_u_sstr:"/repositories/5/resources/2855"',
'collection_uri_u_sstr:"/repositories/5/resources/2921"',
'collection_uri_u_sstr:"/repositories/5/resources/3536"',
'collection_uri_u_sstr:"/repositories/5/resources/2256"',
'collection_uri_u_sstr:"/repositories/5/resources/3045"',
'collection_uri_u_sstr:"/repositories/5/resources/2896"',
'collection_uri_u_sstr:"/repositories/5/resources/2465"',
'collection_uri_u_sstr:"/repositories/5/resources/2994"',
'collection_uri_u_sstr:"/repositories/5/resources/4012"',
'collection_uri_u_sstr:"/repositories/5/resources/2916"',
'collection_uri_u_sstr:"/repositories/5/resources/3378"',
'collection_uri_u_sstr:"/repositories/5/resources/3735"',
'collection_uri_u_sstr:"/repositories/5/resources/3154"',
'collection_uri_u_sstr:"/repositories/5/resources/2410"',
'collection_uri_u_sstr:"/repositories/5/resources/3710"',
'collection_uri_u_sstr:"/repositories/5/resources/3173"',
'collection_uri_u_sstr:"/repositories/5/resources/2976"',
'collection_uri_u_sstr:"/repositories/5/resources/2308"',
'collection_uri_u_sstr:"/repositories/5/resources/2264"',
'collection_uri_u_sstr:"/repositories/5/resources/3037"',
'collection_uri_u_sstr:"/repositories/5/resources/2421"',
'collection_uri_u_sstr:"/repositories/5/resources/3501"',
'collection_uri_u_sstr:"/repositories/5/resources/3226"',
'collection_uri_u_sstr:"/repositories/5/resources/2250"',
'collection_uri_u_sstr:"/repositories/5/resources/3408"',
'collection_uri_u_sstr:"/repositories/5/resources/3401"',
'collection_uri_u_sstr:"/repositories/5/resources/3044"',
'collection_uri_u_sstr:"/repositories/5/resources/2567"',
'collection_uri_u_sstr:"/repositories/5/resources/2600"',
'collection_uri_u_sstr:"/repositories/5/resources/2540"',
'collection_uri_u_sstr:"/repositories/5/resources/2544"',
'collection_uri_u_sstr:"/repositories/5/resources/2548"',
'collection_uri_u_sstr:"/repositories/5/resources/2562"',
'collection_uri_u_sstr:"/repositories/5/resources/2563"',
'collection_uri_u_sstr:"/repositories/5/resources/2568"',
'collection_uri_u_sstr:"/repositories/5/resources/2570"',
'collection_uri_u_sstr:"/repositories/5/resources/2571"',
'collection_uri_u_sstr:"/repositories/5/resources/2254"',
'collection_uri_u_sstr:"/repositories/5/resources/2267"',
'collection_uri_u_sstr:"/repositories/5/resources/2580"',
'collection_uri_u_sstr:"/repositories/5/resources/2583"',
'collection_uri_u_sstr:"/repositories/5/resources/2585"',
'collection_uri_u_sstr:"/repositories/5/resources/2319"',
'collection_uri_u_sstr:"/repositories/5/resources/2359"',
'collection_uri_u_sstr:"/repositories/5/resources/2588"',
'collection_uri_u_sstr:"/repositories/5/resources/2531"',
'collection_uri_u_sstr:"/repositories/5/resources/2601"',
'collection_uri_u_sstr:"/repositories/5/resources/2606"'
]

#'location_uri_u_sstr:"/locations/23648"'

top_containers =
  (0..425).to_a.map do |int|
    @client.get(
    'repositories/5/top_containers/search',
    query: {
      q: queries[int]
    }
    ).parsed['response']['docs']
end

top_containers.flatten!
# puts top_containers
# puts top_containers.class
# puts top_containers.count

CSV.open("top_containers_by_collection.csv", "a",
  :write_headers=> true,
  :headers => ["uri", "eadid", "collection_title", "container_type", "container_indicator", "barcode", "container_profile", "location", "location_note"]) do |row|

  top_containers.map do |result|
      row << [
        result['uri'],
        (result['collection_identifier_stored_u_sstr'][0] unless result['collection_identifier_stored_u_sstr'].nil?).to_s,
        (result['collection_display_string_u_sstr'][0] unless result['collection_display_string_u_sstr'].nil?).to_s,
        (result['type_enum_s'][0] unless result['type_enum_s'].nil?).to_s,
        (result['indicator_u_icusort'] unless result['indicator_u_icusort'].nil?).to_s,
        (result['barcode_u_sstr'][0] unless result['barcode_u_sstr'].nil?).to_s,
        (result['container_profile_display_string_u_sstr'][0] unless result['container_profile_display_string_u_sstr'].nil?).to_s,
        (result['location_display_string_u_sstr'][0] unless result['location_display_string_u_sstr'].nil?).to_s,
        (JSON.parse(result['json'])['container_locations'][0]['note'] unless result['json']['container_locations'][0]['note'].nil?).to_s
      ]
  end
end
